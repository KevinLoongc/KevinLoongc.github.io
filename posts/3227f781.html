

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.ico">
  <link rel="icon" href="/img/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Kevin Loongc">
  <meta name="keywords" content="云杂货店, KevinL, KevinLoongc, QT, ROS, SLAM, 嵌入式">
  
    <meta name="description" content="B站视频连接黑马C++教学视频：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1et411b73Z 职工管理系统1、管理系统需求职工管理系统可以用来管理公司内所有员工的信息 本教程主要利用C++来实现一个基于多态的职工管理系统 公司中职工分为三类：普通员工、经理、老板，显示信息时，需要显示职工编号、职工姓名、职工岗位、以及职责 普通员工职责：完成经理交给的任务 经理职责：完成老">
<meta property="og:type" content="article">
<meta property="og:title" content="第4阶段实战-基于多态的企业职工系统">
<meta property="og:url" content="https://kevinloongc.github.io/posts/3227f781.html">
<meta property="og:site_name" content="云杂货店">
<meta property="og:description" content="B站视频连接黑马C++教学视频：https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1et411b73Z 职工管理系统1、管理系统需求职工管理系统可以用来管理公司内所有员工的信息 本教程主要利用C++来实现一个基于多态的职工管理系统 公司中职工分为三类：普通员工、经理、老板，显示信息时，需要显示职工编号、职工姓名、职工岗位、以及职责 普通员工职责：完成经理交给的任务 经理职责：完成老">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s3.ax1x.com/2021/02/19/yfEX6K.jpg">
<meta property="article:published_time" content="2021-02-19T02:36:25.000Z">
<meta property="article:modified_time" content="2022-05-29T04:48:38.077Z">
<meta property="article:author" content="Kevin Loongc">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s3.ax1x.com/2021/02/19/yfEX6K.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>第4阶段实战-基于多态的企业职工系统 - 云杂货店</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"kevinloongc.github.io","root":"/","version":"1.9.0","typing":{"enable":true,"typeSpeed":80,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":false},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>云杂货店</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="第4阶段实战-基于多态的企业职工系统"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-02-19 10:36" pubdate>
          2021年2月19日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          19k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          162 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="C++黑马视频讲义"
        id="heading-30ab1306049db7034432cb9fb0b1b6ae" role="tab" data-toggle="collapse" href="#collapse-30ab1306049db7034432cb9fb0b1b6ae"
        aria-expanded="true"
      >
        C++黑马视频讲义
        <span class="list-group-count">(8)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-30ab1306049db7034432cb9fb0b1b6ae"
           role="tabpanel" aria-labelledby="heading-30ab1306049db7034432cb9fb0b1b6ae">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/c4d23249.html" title="C++课程安排"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">C++课程安排</span>
        </a>
      
    
      
      
        <a href="/posts/523bedcd.html" title="第1阶段-C++匠心之作"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">第1阶段-C++匠心之作</span>
        </a>
      
    
      
      
        <a href="/posts/bebd227a.html" title="第2阶段实战-通讯录管理"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">第2阶段实战-通讯录管理</span>
        </a>
      
    
      
      
        <a href="/posts/2aeb9fce.html" title="第3阶段-C++核心编程"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">第3阶段-C++核心编程</span>
        </a>
      
    
      
      
        <a href="/posts/3227f781.html" title="第4阶段实战-基于多态的企业职工系统"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">第4阶段实战-基于多态的企业职工系统</span>
        </a>
      
    
      
      
        <a href="/posts/f5d3d170.html" title="第5阶段-C++提高编程"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">第5阶段-C++提高编程</span>
        </a>
      
    
      
      
        <a href="/posts/e6f97ee3.html" title="第6阶段实战-基于STL泛化编程的演讲比赛"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">第6阶段实战-基于STL泛化编程的演讲比赛</span>
        </a>
      
    
      
      
        <a href="/posts/e6f97ee3.html" title="第7阶段-C++实战项目机房预约"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">第7阶段-C++实战项目机房预约</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">第4阶段实战-基于多态的企业职工系统</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2022年5月29日 下午
                  
                
              </p>
            
            <div class="markdown-body">
              
              <h1 id="B站视频连接"><a href="#B站视频连接" class="headerlink" title="B站视频连接"></a>B站视频连接</h1><p>黑马C++教学视频：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1et411b73Z">https://www.bilibili.com/video/BV1et411b73Z</a></p>
<h1 id="职工管理系统"><a href="#职工管理系统" class="headerlink" title="职工管理系统"></a>职工管理系统</h1><h2 id="1、管理系统需求"><a href="#1、管理系统需求" class="headerlink" title="1、管理系统需求"></a>1、管理系统需求</h2><p>职工管理系统可以用来管理公司内所有员工的信息</p>
<p>本教程主要利用C++来实现一个基于多态的职工管理系统</p>
<p>公司中职工分为三类：普通员工、经理、老板，显示信息时，需要显示职工编号、职工姓名、职工岗位、以及职责</p>
<p>普通员工职责：完成经理交给的任务</p>
<p>经理职责：完成老板交给的任务，并下发任务给员工</p>
<p>老板职责：管理公司所有事务</p>
<p>管理系统中需要实现的功能如下：</p>
<ul>
<li>退出管理程序：退出当前管理系统</li>
</ul>
<ul>
<li>增加职工信息：实现批量添加职工功能，将信息录入到文件中，职工信息为：职工编号、姓名、部门编号</li>
<li>显示职工信息：显示公司内部所有职工的信息</li>
<li>删除离职职工：按照编号删除指定的职工</li>
<li>修改职工信息：按照编号修改职工个人信息</li>
<li>查找职工信息：按照职工的编号或者职工的姓名进行查找相关的人员信息</li>
<li>按照编号排序：按照职工编号，进行排序，排序规则由用户指定</li>
<li>清空所有文档：清空文件中记录的所有职工信息 （清空前需要再次确认，防止误删）</li>
</ul>
<p>系统界面效果图如下：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflTKA.png" srcset="/img/loading.gif" lazyload alt="yflTKA.png"></p>
<p>需根据用户不同的选择，完成不同的功能！</p>
<h2 id="2、创建项目"><a href="#2、创建项目" class="headerlink" title="2、创建项目"></a>2、创建项目</h2><p>创建项目步骤如下：</p>
<ul>
<li>创建新项目</li>
<li>添加文件</li>
</ul>
<h3 id="2-1-创建项目"><a href="#2-1-创建项目" class="headerlink" title="2.1 创建项目"></a>2.1 创建项目</h3><p>打开vs2017后，点击创建新项目，创建新的C++项目</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf8PhT.png" srcset="/img/loading.gif" lazyload alt="yf8PhT.png"></p>
<p>填写项目名称以及项目路径，点击确定</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf8S7q.png" srcset="/img/loading.gif" lazyload alt="yf8S7q.png"></p>
<h3 id="2-2-添加文件"><a href="#2-2-添加文件" class="headerlink" title="2.2 添加文件"></a>2.2 添加文件</h3><p>右键源文件，进行添加文件操作</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf89A0.png" srcset="/img/loading.gif" lazyload alt="yf89A0.png"></p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3zBn.png" srcset="/img/loading.gif" lazyload alt="yf3zBn.png"></p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3xns.png" srcset="/img/loading.gif" lazyload alt="yf3xns.png"></p>
<p>至此，项目已创建完毕</p>
<h2 id="3、创建管理类"><a href="#3、创建管理类" class="headerlink" title="3、创建管理类"></a>3、创建管理类</h2><p>​    管理类负责的内容如下：</p>
<ul>
<li>与用户的沟通菜单界面</li>
<li>对职工增删改查的操作</li>
<li>与文件的读写交互</li>
</ul>
<h3 id="3-1创建文件"><a href="#3-1创建文件" class="headerlink" title="3.1创建文件"></a>3.1创建文件</h3><p>在头文件和源文件的文件夹下分别创建workerManager.h 和 workerManager.cpp文件</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3jXj.png" srcset="/img/loading.gif" lazyload alt="yf3jXj.png"></p>
<h3 id="3-2-头文件实现"><a href="#3-2-头文件实现" class="headerlink" title="3.2 头文件实现"></a>3.2 头文件实现</h3><p>在workerManager.h中设计管理类</p>
<p>代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerManager</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br><br>	<span class="hljs-comment">//构造函数</span><br>	<span class="hljs-built_in">WorkerManager</span>();<br><br>	<span class="hljs-comment">//析构函数</span><br>	~<span class="hljs-built_in">WorkerManager</span>();<br><br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="3-3-源文件实现"><a href="#3-3-源文件实现" class="headerlink" title="3.3 源文件实现"></a>3.3 源文件实现</h3><p>在workerManager.cpp中将构造和析构函数空实现补全</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;workerManager.h&quot;</span></span><br><br>WorkerManager::<span class="hljs-built_in">WorkerManager</span>()<br>&#123;<br>&#125;<br><br>WorkerManager::~<span class="hljs-built_in">WorkerManager</span>()<br>&#123;<br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>至此职工管理类以创建完毕</p>
<h2 id="4、菜单功能"><a href="#4、菜单功能" class="headerlink" title="4、菜单功能"></a>4、菜单功能</h2><p>功能描述：与用户的沟通界面</p>
<h3 id="4-1-添加成员函数"><a href="#4-1-添加成员函数" class="headerlink" title="4.1 添加成员函数"></a>4.1 添加成员函数</h3><p>在管理类workerManager.h中添加成员函数  <code>void Show_Menu();</code></p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3XcQ.png" srcset="/img/loading.gif" lazyload alt="yf3XcQ.png"></p>
<h3 id="4-2-菜单功能实现"><a href="#4-2-菜单功能实现" class="headerlink" title="4.2 菜单功能实现"></a>4.2 菜单功能实现</h3><p>在管理类workerManager.cpp中实现  Show_Menu()函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Show_Menu</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;********************************************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*********  欢迎使用职工管理系统！ **********&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  0.退出管理程序  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  1.增加职工信息  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  2.显示职工信息  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  3.删除离职职工  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  4.修改职工信息  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  5.查找职工信息  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  6.按照编号排序  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;*************  7.清空所有文档  *************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;********************************************&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="4-3-测试菜单功能"><a href="#4-3-测试菜单功能" class="headerlink" title="4.3 测试菜单功能"></a>4.3 测试菜单功能</h3><p>在职工管理系统.cpp中测试菜单功能</p>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;workerManager.h&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>	WorkerManager wm;<br><br>	wm.<span class="hljs-built_in">Show_Menu</span>();<br><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>运行效果如图：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3O1g.png" srcset="/img/loading.gif" lazyload alt="yf3O1g.png"></p>
<h2 id="5、退出功能"><a href="#5、退出功能" class="headerlink" title="5、退出功能"></a>5、退出功能</h2><h3 id="5-1-提供功能接口"><a href="#5-1-提供功能接口" class="headerlink" title="5.1  提供功能接口"></a>5.1  提供功能接口</h3><p>在main函数中提供分支选择，提供每个功能接口</p>
<p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br><br>	WorkerManager wm;<br>	<span class="hljs-type">int</span> choice = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>	&#123;<br>		<span class="hljs-comment">//展示菜单</span><br>		wm.<span class="hljs-built_in">Show_Menu</span>();<br>		cout &lt;&lt; <span class="hljs-string">&quot;请输入您的选择:&quot;</span> &lt;&lt; endl;<br>		cin &gt;&gt; choice;<br><br>		<span class="hljs-keyword">switch</span> (choice)<br>		&#123;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: <span class="hljs-comment">//退出系统</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-comment">//添加职工</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-comment">//显示职工</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>: <span class="hljs-comment">//删除职工</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: <span class="hljs-comment">//修改职工</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: <span class="hljs-comment">//查找职工</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">6</span>: <span class="hljs-comment">//排序职工</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">case</span> <span class="hljs-number">7</span>: <span class="hljs-comment">//清空文件</span><br>			<span class="hljs-keyword">break</span>;<br>		<span class="hljs-keyword">default</span>:<br>			<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>			<span class="hljs-keyword">break</span>;<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="5-2-实现退出功能"><a href="#5-2-实现退出功能" class="headerlink" title="5.2 实现退出功能"></a>5.2 实现退出功能</h3><p>在workerManager.h中提供退出系统的成员函数 <code>    void exitSystem();</code></p>
<p>在workerManager.cpp中提供具体的功能实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::exitSystem</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;欢迎下次使用&quot;</span> &lt;&lt; endl;<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="5-3测试功能"><a href="#5-3测试功能" class="headerlink" title="5.3测试功能"></a>5.3测试功能</h3><p>在main函数分支 0  选项中，调用退出程序的接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3L9S.png" srcset="/img/loading.gif" lazyload alt="yf3L9S.png"></p>
<p>运行测试效果如图：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3bh8.png" srcset="/img/loading.gif" lazyload alt="yf3bh8.png"></p>
<h2 id="6、创建职工类"><a href="#6、创建职工类" class="headerlink" title="6、创建职工类"></a>6、创建职工类</h2><h3 id="6-1-创建职工抽象类"><a href="#6-1-创建职工抽象类" class="headerlink" title="6.1 创建职工抽象类"></a>6.1 创建职工抽象类</h3><p>职工的分类为：普通员工、经理、老板</p>
<p>将三种职工抽象到一个类（worker）中,利用多态管理不同职工种类</p>
<p>职工的属性为：职工编号、职工姓名、职工所在部门编号</p>
<p>职工的行为为：岗位职责信息描述，获取岗位名称</p>
<p>头文件文件夹下  创建文件worker.h  文件并且添加如下代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//职工抽象基类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Worker</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br><br>	<span class="hljs-comment">//显示个人信息</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br>	<span class="hljs-comment">//获取岗位名称</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> string <span class="hljs-title">getDeptName</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br><br>	<span class="hljs-type">int</span> m_Id; <span class="hljs-comment">//职工编号</span><br>	string m_Name; <span class="hljs-comment">//职工姓名</span><br>	<span class="hljs-type">int</span> m_DeptId; <span class="hljs-comment">//职工所在部门名称编号</span><br>&#125;;<br></code></pre></td></tr></table></figure>



<h3 id="6-2-创建普通员工类"><a href="#6-2-创建普通员工类" class="headerlink" title="6.2 创建普通员工类"></a>6.2 创建普通员工类</h3><p>普通员工类<strong>继承</strong>职工抽象类，并重写父类中纯虚函数</p>
<p>在头文件和源文件的文件夹下分别创建employee.h 和 employee.cpp文件</p>
<p>employee.h中代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;worker.h&quot;</span></span><br><br><span class="hljs-comment">//员工类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> :<span class="hljs-keyword">public</span> Worker<br>&#123;<br><span class="hljs-keyword">public</span>:<br><br>	<span class="hljs-comment">//构造函数</span><br>	<span class="hljs-built_in">Employee</span>(<span class="hljs-type">int</span> id, string name, <span class="hljs-type">int</span> dId);<br><br>	<span class="hljs-comment">//显示个人信息</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span>;<br><br>	<span class="hljs-comment">//获取职工岗位名称</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> string <span class="hljs-title">getDeptName</span><span class="hljs-params">()</span></span>;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>employee.cpp中代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;employee.h&quot;</span></span><br><br>Employee::<span class="hljs-built_in">Employee</span>(<span class="hljs-type">int</span> id, string name, <span class="hljs-type">int</span> dId)<br>&#123;<br>	<span class="hljs-keyword">this</span>-&gt;m_Id = id;<br>	<span class="hljs-keyword">this</span>-&gt;m_Name = name;<br>	<span class="hljs-keyword">this</span>-&gt;m_DeptId = dId;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Employee::showInfo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;职工编号： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_Id<br>		&lt;&lt; <span class="hljs-string">&quot; \t职工姓名： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_Name<br>		&lt;&lt; <span class="hljs-string">&quot; \t岗位：&quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getDeptName</span>()<br>		&lt;&lt; <span class="hljs-string">&quot; \t岗位职责：完成经理交给的任务&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><br><span class="hljs-function">string <span class="hljs-title">Employee::getDeptName</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>(<span class="hljs-string">&quot;员工&quot;</span>);<br>&#125;<br><br><br></code></pre></td></tr></table></figure>





<h3 id="6-3-创建经理类"><a href="#6-3-创建经理类" class="headerlink" title="6.3 创建经理类"></a>6.3 创建经理类</h3><p>经理类<strong>继承</strong>职工抽象类，并重写父类中纯虚函数，和普通员工类似</p>
<p>在头文件和源文件的文件夹下分别创建manager.h 和 manager.cpp文件</p>
<p>manager.h中代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;worker.h&quot;</span></span><br><br><span class="hljs-comment">//经理类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Manager</span> :<span class="hljs-keyword">public</span> Worker<br>&#123;<br><span class="hljs-keyword">public</span>:<br><br>	<span class="hljs-built_in">Manager</span>(<span class="hljs-type">int</span> id, string name, <span class="hljs-type">int</span> dId);<br><br>	<span class="hljs-comment">//显示个人信息</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span>;<br><br>	<span class="hljs-comment">//获取职工岗位名称</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> string <span class="hljs-title">getDeptName</span><span class="hljs-params">()</span></span>;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>manager.cpp中代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;manager.h&quot;</span></span><br><br>Manager::<span class="hljs-built_in">Manager</span>(<span class="hljs-type">int</span> id, string name, <span class="hljs-type">int</span> dId)<br>&#123;<br>	<span class="hljs-keyword">this</span>-&gt;m_Id = id;<br>	<span class="hljs-keyword">this</span>-&gt;m_Name = name;<br>	<span class="hljs-keyword">this</span>-&gt;m_DeptId = dId;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Manager::showInfo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;职工编号： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_Id<br>		&lt;&lt; <span class="hljs-string">&quot; \t职工姓名： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_Name<br>		&lt;&lt; <span class="hljs-string">&quot; \t岗位：&quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getDeptName</span>()<br>		&lt;&lt; <span class="hljs-string">&quot; \t岗位职责：完成老板交给的任务,并下发任务给员工&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function">string <span class="hljs-title">Manager::getDeptName</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>(<span class="hljs-string">&quot;经理&quot;</span>);<br>&#125;<br><br><br></code></pre></td></tr></table></figure>



<h3 id="6-4-创建老板类"><a href="#6-4-创建老板类" class="headerlink" title="6.4 创建老板类"></a>6.4 创建老板类</h3><p>老板类<strong>继承</strong>职工抽象类，并重写父类中纯虚函数，和普通员工类似</p>
<p>在头文件和源文件的文件夹下分别创建boss.h 和 boss.cpp文件</p>
<p>boss.h中代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;worker.h&quot;</span></span><br><br><span class="hljs-comment">//老板类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Boss</span> :<span class="hljs-keyword">public</span> Worker<br>&#123;<br><span class="hljs-keyword">public</span>:<br><br>	<span class="hljs-built_in">Boss</span>(<span class="hljs-type">int</span> id, string name, <span class="hljs-type">int</span> dId);<br><br>	<span class="hljs-comment">//显示个人信息</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">showInfo</span><span class="hljs-params">()</span></span>;<br><br>	<span class="hljs-comment">//获取职工岗位名称</span><br>	<span class="hljs-function"><span class="hljs-keyword">virtual</span> string <span class="hljs-title">getDeptName</span><span class="hljs-params">()</span></span>;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>boss.cpp中代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;boss.h&quot;</span></span><br><br>Boss::<span class="hljs-built_in">Boss</span>(<span class="hljs-type">int</span> id, string name, <span class="hljs-type">int</span> dId)<br>&#123;<br>	<span class="hljs-keyword">this</span>-&gt;m_Id = id;<br>	<span class="hljs-keyword">this</span>-&gt;m_Name = name;<br>	<span class="hljs-keyword">this</span>-&gt;m_DeptId = dId;<br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Boss::showInfo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;职工编号： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_Id<br>		&lt;&lt; <span class="hljs-string">&quot; \t职工姓名： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_Name<br>		&lt;&lt; <span class="hljs-string">&quot; \t岗位：&quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getDeptName</span>()<br>		&lt;&lt; <span class="hljs-string">&quot; \t岗位职责：管理公司所有事务&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function">string <span class="hljs-title">Boss::getDeptName</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-built_in">string</span>(<span class="hljs-string">&quot;总裁&quot;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure>





<h3 id="6-5-测试多态"><a href="#6-5-测试多态" class="headerlink" title="6.5 测试多态"></a>6.5 测试多态</h3><p>在职工管理系统.cpp中添加测试函数，并且运行能够产生多态</p>
<p>测试代码如下：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;worker.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;employee.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;manager.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;boss.h&quot;</span></span><br><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	Worker * worker = <span class="hljs-literal">NULL</span>;<br>	worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Employee</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;张三&quot;</span>, <span class="hljs-number">1</span>);<br>	worker-&gt;<span class="hljs-built_in">showInfo</span>();<br>	<span class="hljs-keyword">delete</span> worker;<br>	<br>	worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Manager</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;李四&quot;</span>, <span class="hljs-number">2</span>);<br>	worker-&gt;<span class="hljs-built_in">showInfo</span>();<br>	<span class="hljs-keyword">delete</span> worker;<br><br>	worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Boss</span>(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;王五&quot;</span>, <span class="hljs-number">3</span>);<br>	worker-&gt;<span class="hljs-built_in">showInfo</span>();<br>	<span class="hljs-keyword">delete</span> worker;<br>&#125;<br><br></code></pre></td></tr></table></figure>



<p>运行效果如图：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3Htf.png" srcset="/img/loading.gif" lazyload alt="yf3Htf.png"></p>
<p>测试成功后，测试代码可以注释保留，或者选择删除</p>
<h2 id="7、添加职工"><a href="#7、添加职工" class="headerlink" title="7、添加职工"></a>7、添加职工</h2><p>功能描述：批量添加职工，并且保存到文件中</p>
<h3 id="7-1-功能分析"><a href="#7-1-功能分析" class="headerlink" title="7.1 功能分析"></a>7.1 功能分析</h3><p>分析：</p>
<p>用户在批量创建时，可能会创建不同种类的职工</p>
<p>如果想将所有不同种类的员工都放入到一个数组中，可以将所有员工的指针维护到一个数组里</p>
<p>如果想在程序中维护这个不定长度的数组，可以将数组创建到堆区，并利用Worker **的指针维护</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf37AP.png" srcset="/img/loading.gif" lazyload alt="yf37AP.png"></p>
<h3 id="7-2-功能实现"><a href="#7-2-功能实现" class="headerlink" title="7.2 功能实现"></a>7.2 功能实现</h3><p>在WokerManager.h头文件中添加成员属性 代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//记录文件中的人数个数</span><br><span class="hljs-type">int</span> m_EmpNum;<br><br><span class="hljs-comment">//员工数组的指针</span><br>Worker ** m_EmpArray;<br></code></pre></td></tr></table></figure>



<p>在WorkerManager构造函数中初始化属性</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++">WorkerManager::<span class="hljs-built_in">WorkerManager</span>()<br>&#123;<br>	<span class="hljs-comment">//初始化人数</span><br>	<span class="hljs-keyword">this</span>-&gt;m_EmpNum = <span class="hljs-number">0</span>;<br><br>	<span class="hljs-comment">//初始化数组指针</span><br>	<span class="hljs-keyword">this</span>-&gt;m_EmpArray = <span class="hljs-literal">NULL</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>在workerManager.h中添加成员函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//增加职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Add_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<p>workerManager.cpp中实现该函数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//增加职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Add_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;请输入增加职工数量： &quot;</span> &lt;&lt; endl;<br><br>	<span class="hljs-type">int</span> addNum = <span class="hljs-number">0</span>;<br>	cin &gt;&gt; addNum;<br><br>	<span class="hljs-keyword">if</span> (addNum &gt; <span class="hljs-number">0</span>)<br>	&#123;<br>		<span class="hljs-comment">//计算新空间大小</span><br>		<span class="hljs-type">int</span> newSize = <span class="hljs-keyword">this</span>-&gt;m_EmpNum + addNum;<br><br>		<span class="hljs-comment">//开辟新空间</span><br>		Worker ** newSpace = <span class="hljs-keyword">new</span> Worker*[newSize];<br><br>		<span class="hljs-comment">//将原空间下内容存放到新空间下</span><br>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_EmpArray != <span class="hljs-literal">NULL</span>)<br>		&#123;<br>			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>-&gt;m_EmpNum; i++)<br>			&#123;<br>				newSpace[i] = <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i];<br>			&#125;<br>		&#125;<br><br>		<span class="hljs-comment">//输入新数据</span><br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; addNum; i++)<br>		&#123;<br>			<span class="hljs-type">int</span> id;<br>			string name;<br>			<span class="hljs-type">int</span> dSelect;<br><br>			cout &lt;&lt; <span class="hljs-string">&quot;请输入第 &quot;</span> &lt;&lt; i + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; 个新职工编号：&quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; id;<br><br><br>			cout &lt;&lt; <span class="hljs-string">&quot;请输入第 &quot;</span> &lt;&lt; i + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; 个新职工姓名：&quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; name;<br><br><br>			cout &lt;&lt; <span class="hljs-string">&quot;请选择该职工的岗位：&quot;</span> &lt;&lt; endl;<br>			cout &lt;&lt; <span class="hljs-string">&quot;1、普通职工&quot;</span> &lt;&lt; endl;<br>			cout &lt;&lt; <span class="hljs-string">&quot;2、经理&quot;</span> &lt;&lt; endl;<br>			cout &lt;&lt; <span class="hljs-string">&quot;3、老板&quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; dSelect;<br><br><br>			Worker * worker = <span class="hljs-literal">NULL</span>;<br>			<span class="hljs-keyword">switch</span> (dSelect)<br>			&#123;<br>			<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-comment">//普通员工</span><br>				worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Employee</span>(id, name, <span class="hljs-number">1</span>);<br>				<span class="hljs-keyword">break</span>;<br>			<span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-comment">//经理</span><br>				worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Manager</span>(id, name, <span class="hljs-number">2</span>);<br>				<span class="hljs-keyword">break</span>;<br>			<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:  <span class="hljs-comment">//老板</span><br>				worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Boss</span>(id, name, <span class="hljs-number">3</span>);<br>				<span class="hljs-keyword">break</span>;<br>			<span class="hljs-keyword">default</span>:<br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br><br><br>			newSpace[<span class="hljs-keyword">this</span>-&gt;m_EmpNum + i] = worker;<br>		&#125;<br><br>		<span class="hljs-comment">//释放原有空间</span><br>		<span class="hljs-keyword">delete</span>[] <span class="hljs-keyword">this</span>-&gt;m_EmpArray;<br><br>		<span class="hljs-comment">//更改新空间的指向</span><br>		<span class="hljs-keyword">this</span>-&gt;m_EmpArray = newSpace;<br><br>		<span class="hljs-comment">//更新新的个数</span><br>		<span class="hljs-keyword">this</span>-&gt;m_EmpNum = newSize;<br><br>		<span class="hljs-comment">//提示信息</span><br>		cout &lt;&lt; <span class="hljs-string">&quot;成功添加&quot;</span> &lt;&lt; addNum &lt;&lt; <span class="hljs-string">&quot;名新职工！&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;输入有误&quot;</span> &lt;&lt; endl;<br>	&#125;<br><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>



<p>在WorkerManager.cpp的析构函数中，释放堆区数据</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++">WorkerManager::~<span class="hljs-built_in">WorkerManager</span>()<br>&#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_EmpArray != <span class="hljs-literal">NULL</span>)<br>	&#123;<br>		<span class="hljs-keyword">delete</span>[] <span class="hljs-keyword">this</span>-&gt;m_EmpArray;<br>	&#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>





<h3 id="7-3-测试添加"><a href="#7-3-测试添加" class="headerlink" title="7.3 测试添加"></a>7.3 测试添加</h3><p>在main函数分支 1  选项中，调用添加职工接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3o7t.png" srcset="/img/loading.gif" lazyload alt="yf3o7t.png"></p>
<p>效果如图：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf35nA.png" srcset="/img/loading.gif" lazyload alt="yf35nA.png"></p>
<p>至此，添加职工到程序中功能实现完毕</p>
<h2 id="8、文件交互-写文件"><a href="#8、文件交互-写文件" class="headerlink" title="8、文件交互 - 写文件"></a>8、文件交互 - 写文件</h2><p>功能描述：对文件进行读写</p>
<p>​    在上一个添加功能中，我们只是将所有的数据添加到了内存中，一旦程序结束就无法保存了</p>
<p>​    因此文件管理类中需要一个与文件进行交互的功能，对于文件进行读写操作</p>
<h3 id="8-1-设定文件路径"><a href="#8-1-设定文件路径" class="headerlink" title="8.1 设定文件路径"></a>8.1 设定文件路径</h3><p>首先我们将文件路径，在workerManager.h中添加宏常量,并且包含头文件 fstream</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span>  FILENAME <span class="hljs-string">&quot;empFile.txt&quot;</span></span><br></code></pre></td></tr></table></figure>



<h3 id="8-2-成员函数声明"><a href="#8-2-成员函数声明" class="headerlink" title="8.2 成员函数声明"></a>8.2 成员函数声明</h3><p>在workerManager.h中类里添加成员函数 <code>void save()</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//保存文件</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">save</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<h3 id="8-3-保存文件功能实现"><a href="#8-3-保存文件功能实现" class="headerlink" title="8.3 保存文件功能实现"></a>8.3 保存文件功能实现</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::save</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	ofstream ofs;<br>	ofs.<span class="hljs-built_in">open</span>(FILENAME, ios::out);<br><br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>-&gt;m_EmpNum; i++)<br>	&#123;<br>		ofs &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_Id &lt;&lt; <span class="hljs-string">&quot; &quot;</span> <br>			&lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_Name &lt;&lt; <span class="hljs-string">&quot; &quot;</span> <br>			&lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_DeptId &lt;&lt; endl;<br>	&#125;<br><br>	ofs.<span class="hljs-built_in">close</span>();<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="8-4-保存文件功能测试"><a href="#8-4-保存文件功能测试" class="headerlink" title="8.4 保存文件功能测试"></a>8.4 保存文件功能测试</h3><p>在添加职工功能中添加成功后添加保存文件函数</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3f6H.png" srcset="/img/loading.gif" lazyload alt="yf3f6H.png"></p>
<p>再次运行代码，添加职工</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf35nA.png" srcset="/img/loading.gif" lazyload alt="yf35nA.png"></p>
<p>同级目录下多出文件，并且保存了添加的信息</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3hXd.png" srcset="/img/loading.gif" lazyload alt="yf3hXd.png"></p>
<h2 id="9、文件交互-读文件"><a href="#9、文件交互-读文件" class="headerlink" title="9、文件交互 - 读文件"></a>9、文件交互 - 读文件</h2><p>功能描述：将文件中的内容读取到程序中</p>
<p>虽然我们实现了添加职工后保存到文件的操作，但是每次开始运行程序，并没有将文件中数据读取到程序中</p>
<p>而我们的程序功能中还有清空文件的需求</p>
<p>因此构造函数初始化数据的情况分为三种</p>
<ol>
<li>第一次使用，文件未创建</li>
<li>文件存在，但是数据被用户清空</li>
<li>文件存在，并且保存职工的所有数据</li>
</ol>
<h3 id="9-1-文件未创建"><a href="#9-1-文件未创建" class="headerlink" title="9.1 文件未创建"></a>9.1 文件未创建</h3><p>在workerManager.h中添加新的成员属性 m_FileIsEmpty标志文件是否为空</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//标志文件是否为空</span><br><span class="hljs-type">bool</span> m_FileIsEmpty;<br></code></pre></td></tr></table></figure>



<p>修改WorkerManager.cpp中构造函数代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++">WorkerManager::<span class="hljs-built_in">WorkerManager</span>()<br>&#123;<br>	ifstream ifs;<br>	ifs.<span class="hljs-built_in">open</span>(FILENAME, ios::in);<br><br>	<span class="hljs-comment">//文件不存在情况</span><br>	<span class="hljs-keyword">if</span> (!ifs.<span class="hljs-built_in">is_open</span>())<br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;文件不存在&quot;</span> &lt;&lt; endl; <span class="hljs-comment">//测试输出</span><br>		<span class="hljs-keyword">this</span>-&gt;m_EmpNum = <span class="hljs-number">0</span>;  <span class="hljs-comment">//初始化人数</span><br>		<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty = <span class="hljs-literal">true</span>; <span class="hljs-comment">//初始化文件为空标志</span><br>		<span class="hljs-keyword">this</span>-&gt;m_EmpArray = <span class="hljs-literal">NULL</span>; <span class="hljs-comment">//初始化数组</span><br>		ifs.<span class="hljs-built_in">close</span>(); <span class="hljs-comment">//关闭文件</span><br>		<span class="hljs-keyword">return</span>;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>删除文件后，测试文件不存在时初始化数据功能</p>
<h3 id="9-2-文件存在且数据为空"><a href="#9-2-文件存在且数据为空" class="headerlink" title="9.2 文件存在且数据为空"></a>9.2 文件存在且数据为空</h3><p>在workerManager.cpp中的构造函数追加代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//文件存在，并且没有记录</span><br><span class="hljs-type">char</span> ch;<br>ifs &gt;&gt; ch;<br><span class="hljs-keyword">if</span> (ifs.<span class="hljs-built_in">eof</span>())<br>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;文件为空!&quot;</span> &lt;&lt; endl;<br>	<span class="hljs-keyword">this</span>-&gt;m_EmpNum = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty = <span class="hljs-literal">true</span>;<br>	<span class="hljs-keyword">this</span>-&gt;m_EmpArray = <span class="hljs-literal">NULL</span>;<br>	ifs.<span class="hljs-built_in">close</span>();<br>	<span class="hljs-keyword">return</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>追加代码位置如图：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3W1e.png" srcset="/img/loading.gif" lazyload alt="yf3W1e.png"></p>
<p>将文件创建后清空文件内容，并测试该情况下初始化功能</p>
<p>我们发现文件不存在或者为空清空 m_FileIsEmpty 判断文件是否为空的标志都为真，那何时为假？</p>
<p>成功添加职工后，应该更改文件不为空的标志</p>
<p>在<code>void WorkerManager::Add_Emp() </code>成员函数中添加：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//更新职工不为空标志</span><br><span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty = <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure>

<p><img src="https://s3.ax1x.com/2021/02/19/yflIvd.png" srcset="/img/loading.gif" lazyload alt="yflIvd.png"></p>
<h3 id="9-3-文件存在且保存职工数据"><a href="#9-3-文件存在且保存职工数据" class="headerlink" title="9.3 文件存在且保存职工数据"></a>9.3 文件存在且保存职工数据</h3><h4 id="9-3-1-获取记录的职工人数"><a href="#9-3-1-获取记录的职工人数" class="headerlink" title="9.3.1 获取记录的职工人数"></a>9.3.1 获取记录的职工人数</h4><p>在workerManager.h中添加成员函数 <code> int get_EmpNum();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//统计人数</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_EmpNum</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>

<p>workerManager.cpp中实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">WorkerManager::get_EmpNum</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	ifstream ifs;<br>	ifs.<span class="hljs-built_in">open</span>(FILENAME, ios::in);<br><br>	<span class="hljs-type">int</span> id;<br>	string name;<br>	<span class="hljs-type">int</span> dId;<br><br>	<span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br><br>	<span class="hljs-keyword">while</span> (ifs &gt;&gt; id &amp;&amp; ifs &gt;&gt; name &amp;&amp; ifs &gt;&gt; dId)<br>	&#123;<br>        <span class="hljs-comment">//记录人数</span><br>		num++;<br>	&#125;<br>	ifs.<span class="hljs-built_in">close</span>();<br><br>	<span class="hljs-keyword">return</span> num;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>在workerManager.cpp构造函数中继续追加代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> num =  <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">get_EmpNum</span>();<br>cout &lt;&lt; <span class="hljs-string">&quot;职工个数为：&quot;</span> &lt;&lt; num &lt;&lt; endl;  <span class="hljs-comment">//测试代码</span><br><span class="hljs-keyword">this</span>-&gt;m_EmpNum = num;  <span class="hljs-comment">//更新成员属性 </span><br></code></pre></td></tr></table></figure>



<p>手动添加一些职工数据，测试获取职工数量函数</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3ctK.png" srcset="/img/loading.gif" lazyload alt="yf3ctK.png"></p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf36k6.png" srcset="/img/loading.gif" lazyload alt="yf36k6.png"></p>
<h4 id="9-3-2-初始化数组"><a href="#9-3-2-初始化数组" class="headerlink" title="9.3.2 初始化数组"></a>9.3.2 初始化数组</h4><p>根据职工的数据以及职工数据，初始化workerManager中的Worker ** m_EmpArray 指针</p>
<p>在WorkerManager.h中添加成员函数  <code>void init_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//初始化员工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<p>在WorkerManager.cpp中实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::init_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	ifstream ifs;<br>	ifs.<span class="hljs-built_in">open</span>(FILENAME, ios::in);<br><br>	<span class="hljs-type">int</span> id;<br>	string name;<br>	<span class="hljs-type">int</span> dId;<br>	<br>	<span class="hljs-type">int</span> index = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (ifs &gt;&gt; id &amp;&amp; ifs &gt;&gt; name &amp;&amp; ifs &gt;&gt; dId)<br>	&#123;<br>		Worker * worker = <span class="hljs-literal">NULL</span>;<br>		<span class="hljs-comment">//根据不同的部门Id创建不同对象</span><br>		<span class="hljs-keyword">if</span> (dId == <span class="hljs-number">1</span>)  <span class="hljs-comment">// 1普通员工</span><br>		&#123;<br>			worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Employee</span>(id, name, dId);<br>		&#125;<br>		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dId == <span class="hljs-number">2</span>) <span class="hljs-comment">//2经理</span><br>		&#123;<br>			worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Manager</span>(id, name, dId);<br>		&#125;<br>		<span class="hljs-keyword">else</span> <span class="hljs-comment">//总裁</span><br>		&#123;<br>			worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Boss</span>(id, name, dId);<br>		&#125;<br>		<span class="hljs-comment">//存放在数组中</span><br>		<span class="hljs-keyword">this</span>-&gt;m_EmpArray[index] = worker;<br>		index++;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>在workerManager.cpp构造函数中追加代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//根据职工数创建数组</span><br><span class="hljs-keyword">this</span>-&gt;m_EmpArray = <span class="hljs-keyword">new</span> Worker *[<span class="hljs-keyword">this</span>-&gt;m_EmpNum];<br><span class="hljs-comment">//初始化职工</span><br><span class="hljs-built_in">init_Emp</span>();<br><br><span class="hljs-comment">//测试代码</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_EmpNum; i++)<br>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;职工号： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_Id<br>		&lt;&lt; <span class="hljs-string">&quot; 职工姓名： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_Name<br>		&lt;&lt; <span class="hljs-string">&quot; 部门编号： &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_DeptId &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>运行程序，测试从文件中获取的数据</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3RpD.png" srcset="/img/loading.gif" lazyload alt="yf3RpD.png"></p>
<p>至此初始化数据功能完毕，测试代码可以注释或删除掉！</p>
<h2 id="10、显示职工"><a href="#10、显示职工" class="headerlink" title="10、显示职工"></a>10、显示职工</h2><p>功能描述：显示当前所有职工信息</p>
<h4 id="10-1-显示职工函数声明"><a href="#10-1-显示职工函数声明" class="headerlink" title="10.1 显示职工函数声明"></a>10.1 显示职工函数声明</h4><p>在workerManager.h中添加成员函数  <code>void Show_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//显示职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Show_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<h4 id="10-2-显示职工函数实现"><a href="#10-2-显示职工函数实现" class="headerlink" title="10.2 显示职工函数实现"></a>10.2 显示职工函数实现</h4><p>在workerManager.cpp中实现成员函数 <code>void Show_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//显示职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Show_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty)<br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;文件不存在或记录为空！&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_EmpNum; i++)<br>		&#123;<br>			<span class="hljs-comment">//利用多态调用接口</span><br>			<span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;<span class="hljs-built_in">showInfo</span>();<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="10-3-测试显示职工"><a href="#10-3-测试显示职工" class="headerlink" title="10.3 测试显示职工"></a>10.3 测试显示职工</h4><p>在main函数分支 2  选项中，调用显示职工接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1UsA.png" srcset="/img/loading.gif" lazyload alt="yf1UsA.png"></p>
<p>测试时分别测试 文件为空和文件不为空两种情况</p>
<p>测试效果：</p>
<p>测试1-文件不存在或者为空情况</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1NMd.png" srcset="/img/loading.gif" lazyload alt="yf1NMd.png"></p>
<p>测试2 - 文件存在且有记录情况</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf3gfO.png" srcset="/img/loading.gif" lazyload alt="yf3gfO.png"></p>
<p>测试完毕，至此，显示所有职工信息功能实现</p>
<h2 id="11、删除职工"><a href="#11、删除职工" class="headerlink" title="11、删除职工"></a>11、删除职工</h2><p>功能描述：按照职工的编号进行删除职工操作</p>
<h4 id="11-1-删除职工函数声明"><a href="#11-1-删除职工函数声明" class="headerlink" title="11.1 删除职工函数声明"></a>11.1 删除职工函数声明</h4><p>在workerManager.h中添加成员函数  <code>void Del_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//删除职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Del_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<h4 id="11-2-职工是否存在函数声明"><a href="#11-2-职工是否存在函数声明" class="headerlink" title="11.2 职工是否存在函数声明"></a>11.2 职工是否存在函数声明</h4><p>很多功能都需要用到根据职工是否存在来进行操作如：删除职工、修改职工、查找职工</p>
<p>因此添加该公告函数，以便后续调用</p>
<p>在workerManager.h中添加成员函数  <code>int IsExist(int id);</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//按照职工编号判断职工是否存在,若存在返回职工在数组中位置，不存在返回-1</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">IsExist</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span></span>;<br></code></pre></td></tr></table></figure>



<h4 id="11-3-职工是否存在函数实现"><a href="#11-3-职工是否存在函数实现" class="headerlink" title="11.3 职工是否存在函数实现"></a>11.3 职工是否存在函数实现</h4><p>在workerManager.cpp中实现成员函数 <code>int IsExist(int id);</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">WorkerManager::IsExist</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-type">int</span> index = <span class="hljs-number">-1</span>;<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>-&gt;m_EmpNum; i++)<br>	&#123;<br>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;m_Id == id)<br>		&#123;<br>			index = i;<br><br>			<span class="hljs-keyword">break</span>;<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-keyword">return</span> index;<br>&#125;<br></code></pre></td></tr></table></figure>





<h4 id="11-4-删除职工函数实现"><a href="#11-4-删除职工函数实现" class="headerlink" title="11.4 删除职工函数实现"></a>11.4 删除职工函数实现</h4><p>在workerManager.cpp中实现成员函数 <code> void Del_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//删除职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Del_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty)<br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;文件不存在或记录为空！&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		<span class="hljs-comment">//按职工编号删除</span><br>		cout &lt;&lt; <span class="hljs-string">&quot;请输入想要删除的职工号：&quot;</span> &lt;&lt; endl;<br>		<span class="hljs-type">int</span> id = <span class="hljs-number">0</span>;<br>		cin &gt;&gt; id;<br><br>		<span class="hljs-type">int</span> index = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">IsExist</span>(id);<br><br>		<span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span>)  <span class="hljs-comment">//说明index上位置数据需要删除</span><br>		&#123;<br>			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = index; i &lt; <span class="hljs-keyword">this</span>-&gt;m_EmpNum - <span class="hljs-number">1</span>; i++)<br>			&#123;<br>				<span class="hljs-keyword">this</span>-&gt;m_EmpArray[i] = <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i + <span class="hljs-number">1</span>];<br>			&#125;<br>			<span class="hljs-keyword">this</span>-&gt;m_EmpNum--;<br><br>			<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">save</span>(); <span class="hljs-comment">//删除后数据同步到文件中</span><br>			cout &lt;&lt; <span class="hljs-string">&quot;删除成功！&quot;</span> &lt;&lt; endl;<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			cout &lt;&lt; <span class="hljs-string">&quot;删除失败，未找到该职工&quot;</span> &lt;&lt; endl;<br>		&#125;<br>	&#125;<br>	<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="11-5-测试删除职工"><a href="#11-5-测试删除职工" class="headerlink" title="11.5 测试删除职工"></a>11.5 测试删除职工</h4><p>在main函数分支 3  选项中，调用删除职工接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1Kq1.png" srcset="/img/loading.gif" lazyload alt="yf1Kq1.png"></p>
<p>测试1 - 删除不存在职工情况</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1GGD.png" srcset="/img/loading.gif" lazyload alt="yf1GGD.png"></p>
<p>测试2 - 删除存在的职工情况</p>
<p>删除成功提示图：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1JRe.png" srcset="/img/loading.gif" lazyload alt="yf1JRe.png"></p>
<p>再次显示所有职工信息，确保已经删除</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1YxH.png" srcset="/img/loading.gif" lazyload alt="yf1YxH.png"></p>
<p>查看文件中信息，再次核实员工已被完全删除</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1la6.png" srcset="/img/loading.gif" lazyload alt="yf1la6.png"></p>
<p>至此，删除职工功能实现完毕！</p>
<h2 id="12、修改职工"><a href="#12、修改职工" class="headerlink" title="12、修改职工"></a>12、修改职工</h2><p>功能描述：能够按照职工的编号对职工信息进行修改并保存</p>
<h4 id="12-1-修改职工函数声明"><a href="#12-1-修改职工函数声明" class="headerlink" title="12.1 修改职工函数声明"></a>12.1 修改职工函数声明</h4><p>在workerManager.h中添加成员函数  <code>void Mod_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//修改职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Mod_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<h4 id="12-2-修改职工函数实现"><a href="#12-2-修改职工函数实现" class="headerlink" title="12.2 修改职工函数实现"></a>12.2 修改职工函数实现</h4><p>在workerManager.cpp中实现成员函数 <code> void Mod_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//修改职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Mod_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty)<br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;文件不存在或记录为空！&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;请输入修改职工的编号：&quot;</span> &lt;&lt; endl;<br>		<span class="hljs-type">int</span> id;<br>		cin &gt;&gt; id;<br><br>		<span class="hljs-type">int</span> ret = <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">IsExist</span>(id);<br>		<span class="hljs-keyword">if</span> (ret != <span class="hljs-number">-1</span>)<br>		&#123; <br>			<span class="hljs-comment">//查找到编号的职工</span><br><br>			<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>-&gt;m_EmpArray[ret];<br>			<br>			<span class="hljs-type">int</span> newId = <span class="hljs-number">0</span>;<br>			string newName = <span class="hljs-string">&quot;&quot;</span>;<br>			<span class="hljs-type">int</span> dSelect = <span class="hljs-number">0</span>;<br><br>			cout &lt;&lt; <span class="hljs-string">&quot;查到： &quot;</span> &lt;&lt; id &lt;&lt; <span class="hljs-string">&quot;号职工，请输入新职工号： &quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; newId;<br><br>			cout &lt;&lt; <span class="hljs-string">&quot;请输入新姓名： &quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; newName;<br><br>			cout &lt;&lt; <span class="hljs-string">&quot;请输入岗位： &quot;</span> &lt;&lt; endl;<br>			cout &lt;&lt; <span class="hljs-string">&quot;1、普通职工&quot;</span> &lt;&lt; endl;<br>			cout &lt;&lt; <span class="hljs-string">&quot;2、经理&quot;</span> &lt;&lt; endl;<br>			cout &lt;&lt; <span class="hljs-string">&quot;3、老板&quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; dSelect;<br><br>			Worker * worker = <span class="hljs-literal">NULL</span>;<br>			<span class="hljs-keyword">switch</span> (dSelect)<br>			&#123;<br>			case1:<br>				worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Employee</span>(newId, newName, dSelect);<br>				<span class="hljs-keyword">break</span>;<br>			case2:<br>				worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Manager</span>(newId, newName, dSelect);<br>				<span class="hljs-keyword">break</span>;<br>			<span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>				worker = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Boss</span>(newId, newName, dSelect);<br>				<span class="hljs-keyword">break</span>;<br>			<span class="hljs-keyword">default</span>:<br>				<span class="hljs-keyword">break</span>;<br>			&#125;<br><br>			<span class="hljs-comment">//更改数据 到数组中</span><br>			<span class="hljs-keyword">this</span>-&gt;m_EmpArray[ret]= worker;<br>			<br>			cout &lt;&lt; <span class="hljs-string">&quot;修改成功！&quot;</span> &lt;&lt; endl;<br><br>			<span class="hljs-comment">//保存到文件中</span><br>			<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">save</span>();<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			cout &lt;&lt; <span class="hljs-string">&quot;修改失败，查无此人&quot;</span> &lt;&lt; endl;<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-comment">//按任意键 清屏</span><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure>





<h4 id="12-3-测试修改职工"><a href="#12-3-测试修改职工" class="headerlink" title="12.3 测试修改职工"></a>12.3 测试修改职工</h4><p>在main函数分支 4  选项中，调用修改职工接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1QVx.png" srcset="/img/loading.gif" lazyload alt="yf1QVx.png"></p>
<p>测试1 - 修改不存在职工情况</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1urR.png" srcset="/img/loading.gif" lazyload alt="yf1urR.png"></p>
<p>测试2 - 修改存在职工情况，例如将职工 “李四” 改为 “赵四”</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1nM9.png" srcset="/img/loading.gif" lazyload alt="yf1nM9.png"></p>
<p>修改后再次查看所有职工信息，并确认修改成功</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1exJ.png" srcset="/img/loading.gif" lazyload alt="yf1exJ.png"></p>
<p>再次确认文件中信息也同步更新</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1EPU.png" srcset="/img/loading.gif" lazyload alt="yf1EPU.png"></p>
<p>至此，修改职工功能已实现！</p>
<h2 id="13、查找职工"><a href="#13、查找职工" class="headerlink" title="13、查找职工"></a>13、查找职工</h2><p>功能描述：提供两种查找职工方式，一种按照职工编号，一种按照职工姓名</p>
<h4 id="13-1-查找职工函数声明"><a href="#13-1-查找职工函数声明" class="headerlink" title="13.1 查找职工函数声明"></a>13.1 查找职工函数声明</h4><p>在workerManager.h中添加成员函数  <code>void Find_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//查找职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Find_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<h4 id="13-2-查找职工函数实现"><a href="#13-2-查找职工函数实现" class="headerlink" title="13.2 查找职工函数实现"></a>13.2 查找职工函数实现</h4><p>在workerManager.cpp中实现成员函数 <code> void Find_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//查找职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Find_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty)<br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;文件不存在或记录为空！&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;请输入查找的方式：&quot;</span> &lt;&lt; endl;<br>		cout &lt;&lt; <span class="hljs-string">&quot;1、按职工编号查找&quot;</span> &lt;&lt; endl;<br>		cout &lt;&lt; <span class="hljs-string">&quot;2、按姓名查找&quot;</span> &lt;&lt; endl;<br><br>		<span class="hljs-type">int</span> select = <span class="hljs-number">0</span>;<br>		cin &gt;&gt; select;<br><br><br>		<span class="hljs-keyword">if</span> (select == <span class="hljs-number">1</span>) <span class="hljs-comment">//按职工号查找</span><br>		&#123;<br>			<span class="hljs-type">int</span> id;<br>			cout &lt;&lt; <span class="hljs-string">&quot;请输入查找的职工编号：&quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; id;<br><br>			<span class="hljs-type">int</span> ret = <span class="hljs-built_in">IsExist</span>(id);<br>			<span class="hljs-keyword">if</span> (ret != <span class="hljs-number">-1</span>)<br>			&#123;<br>				cout &lt;&lt; <span class="hljs-string">&quot;查找成功！该职工信息如下：&quot;</span> &lt;&lt; endl;<br>				<span class="hljs-keyword">this</span>-&gt;m_EmpArray[ret]-&gt;<span class="hljs-built_in">showInfo</span>();<br>			&#125;<br>			<span class="hljs-keyword">else</span><br>			&#123;<br>				cout &lt;&lt; <span class="hljs-string">&quot;查找失败，查无此人&quot;</span> &lt;&lt; endl;<br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(select == <span class="hljs-number">2</span>) <span class="hljs-comment">//按姓名查找</span><br>		&#123;<br>			string name;<br>			cout &lt;&lt; <span class="hljs-string">&quot;请输入查找的姓名：&quot;</span> &lt;&lt; endl;<br>			cin &gt;&gt; name;<br><br>			<span class="hljs-type">bool</span> flag = <span class="hljs-literal">false</span>;  <span class="hljs-comment">//查找到的标志</span><br>			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_EmpNum; i++)<br>			&#123;<br>				<span class="hljs-keyword">if</span> (m_EmpArray[i]-&gt;m_Name == name)<br>				&#123;<br>					cout &lt;&lt; <span class="hljs-string">&quot;查找成功,职工编号为：&quot;</span><br>                           &lt;&lt; m_EmpArray[i]-&gt;m_Id<br>                           &lt;&lt; <span class="hljs-string">&quot; 号的信息如下：&quot;</span> &lt;&lt; endl;<br>					<br>					flag = <span class="hljs-literal">true</span>;<br><br>					<span class="hljs-keyword">this</span>-&gt;m_EmpArray[i]-&gt;<span class="hljs-built_in">showInfo</span>();<br>				&#125;<br>			&#125;<br>			<span class="hljs-keyword">if</span> (flag == <span class="hljs-literal">false</span>)<br>			&#123;<br>				<span class="hljs-comment">//查无此人</span><br>				cout &lt;&lt; <span class="hljs-string">&quot;查找失败，查无此人&quot;</span> &lt;&lt; endl;<br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>		&#123;<br>			cout &lt;&lt; <span class="hljs-string">&quot;输入选项有误&quot;</span> &lt;&lt; endl;<br>		&#125;<br>	&#125;<br><br><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>





<h4 id="13-3-测试查找职工"><a href="#13-3-测试查找职工" class="headerlink" title="13.3 测试查找职工"></a>13.3 测试查找职工</h4><p>在main函数分支 5  选项中，调用查找职工接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1Z24.png" srcset="/img/loading.gif" lazyload alt="yf1Z24.png"></p>
<p>测试1 - 按照职工编号查找 - 查找不存在职工</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yf1k5T.png" srcset="/img/loading.gif" lazyload alt="yf1k5T.png"></p>
<p>测试2 - 按照职工编号查找 -  查找存在职工</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflzvj.png" srcset="/img/loading.gif" lazyload alt="yflzvj.png"></p>
<p>测试3 - 按照职工姓名查找 - 查找不存在职工</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflx2Q.png" srcset="/img/loading.gif" lazyload alt="yflx2Q.png"></p>
<p>测试4 - 按照职工姓名查找 - 查找存在职工（如果出现重名，也一并显示，在文件中可以添加重名职工）</p>
<p>例如 添加两个王五的职工，然后按照姓名查找王五</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yfljPS.png" srcset="/img/loading.gif" lazyload alt="yfljPS.png"></p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflv8g.png" srcset="/img/loading.gif" lazyload alt="yflv8g.png"></p>
<p>至此，查找职工功能实现完毕！</p>
<h2 id="14、排序"><a href="#14、排序" class="headerlink" title="14、排序"></a>14、排序</h2><p>功能描述：按照职工编号进行排序，排序的顺序由用户指定</p>
<h4 id="14-1-排序函数声明"><a href="#14-1-排序函数声明" class="headerlink" title="14.1 排序函数声明"></a>14.1 排序函数声明</h4><p>在workerManager.h中添加成员函数  <code>void Sort_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//排序职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Sort_Emp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>



<h4 id="14-2-排序函数实现"><a href="#14-2-排序函数实现" class="headerlink" title="14.2 排序函数实现"></a>14.2 排序函数实现</h4><p>在workerManager.cpp中实现成员函数 <code> void Sort_Emp();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//排序职工</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Sort_Emp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty)<br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;文件不存在或记录为空！&quot;</span> &lt;&lt; endl;<br>		<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>		<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;请选择排序方式： &quot;</span> &lt;&lt; endl;<br>		cout &lt;&lt; <span class="hljs-string">&quot;1、按职工号进行升序&quot;</span> &lt;&lt; endl;<br>		cout &lt;&lt; <span class="hljs-string">&quot;2、按职工号进行降序&quot;</span> &lt;&lt; endl;<br><br>		<span class="hljs-type">int</span> select = <span class="hljs-number">0</span>;<br>		cin &gt;&gt; select;<br><br><br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m_EmpNum; i++)<br>		&#123;<br>			<span class="hljs-type">int</span> minOrMax = i;<br>			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; m_EmpNum; j++)<br>			&#123;<br>				<span class="hljs-keyword">if</span> (select == <span class="hljs-number">1</span>) <span class="hljs-comment">//升序</span><br>				&#123;<br>					<span class="hljs-keyword">if</span> (m_EmpArray[minOrMax]-&gt;m_Id &gt; m_EmpArray[j]-&gt;m_Id)<br>					&#123;<br>						minOrMax = j;<br>					&#125;<br>				&#125;<br>				<span class="hljs-keyword">else</span>  <span class="hljs-comment">//降序</span><br>				&#123;<br>					<span class="hljs-keyword">if</span> (m_EmpArray[minOrMax]-&gt;m_Id &lt; m_EmpArray[j]-&gt;m_Id)<br>					&#123;<br>						minOrMax = j;<br>					&#125;<br>				&#125;<br>			&#125;<br><br>			<span class="hljs-keyword">if</span> (i != minOrMax)<br>			&#123;<br>				Worker * temp = m_EmpArray[i];<br>				m_EmpArray[i] = m_EmpArray[minOrMax];<br>				m_EmpArray[minOrMax] = temp;<br>			&#125;<br><br>		&#125;<br><br>		cout &lt;&lt; <span class="hljs-string">&quot;排序成功,排序后结果为：&quot;</span> &lt;&lt; endl;<br>		<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">save</span>();<br>		<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">Show_Emp</span>();<br>	&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>





<h4 id="14-3-测试排序功能"><a href="#14-3-测试排序功能" class="headerlink" title="14.3 测试排序功能"></a>14.3 测试排序功能</h4><p>在main函数分支 6  选项中，调用排序职工接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflO58.png" srcset="/img/loading.gif" lazyload alt="yflO58.png"></p>
<p>测试：</p>
<p>首先我们添加一些职工，序号是无序的，例如：</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflhCD.png" srcset="/img/loading.gif" lazyload alt="yflhCD.png"></p>
<p>测试 - 升序排序</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yfl48e.png" srcset="/img/loading.gif" lazyload alt="yfl48e.png"></p>
<p>文件同步更新</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflRUK.png" srcset="/img/loading.gif" lazyload alt="yflRUK.png"></p>
<p>测试 - 降序排序</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yfl5gH.png" srcset="/img/loading.gif" lazyload alt="yfl5gH.png"></p>
<p>文件同步更新</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflW4O.png" srcset="/img/loading.gif" lazyload alt="yflW4O.png"></p>
<p>至此，职工按照编号排序的功能实现完毕！</p>
<h2 id="15、清空文件"><a href="#15、清空文件" class="headerlink" title="15、清空文件"></a>15、清空文件</h2><p>功能描述：将文件中记录数据清空</p>
<h4 id="15-1-清空函数声明"><a href="#15-1-清空函数声明" class="headerlink" title="15.1 清空函数声明"></a>15.1 清空函数声明</h4><p>在workerManager.h中添加成员函数  <code>void Clean_File();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//清空文件</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Clean_File</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure>





<h4 id="15-2-清空函数实现"><a href="#15-2-清空函数实现" class="headerlink" title="15.2 清空函数实现"></a>15.2 清空函数实现</h4><p>在workerManager.cpp中实现员函数 <code> void Clean_File();</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//清空文件</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">WorkerManager::Clean_File</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;确认清空？&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;1、确认&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;2、返回&quot;</span> &lt;&lt; endl;<br><br>	<span class="hljs-type">int</span> select = <span class="hljs-number">0</span>;<br>	cin &gt;&gt; select;<br><br>	<span class="hljs-keyword">if</span> (select == <span class="hljs-number">1</span>)<br>	&#123;<br>		<span class="hljs-comment">//打开模式 ios::trunc 如果存在删除文件并重新创建</span><br>		<span class="hljs-function">ofstream <span class="hljs-title">ofs</span><span class="hljs-params">(FILENAME, ios::trunc)</span></span>;<br>		ofs.<span class="hljs-built_in">close</span>();<br><br>		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_EmpArray != <span class="hljs-literal">NULL</span>)<br>		&#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>-&gt;m_EmpNum; i++)<br>			&#123;<br>				<span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>-&gt;m_EmpArray[i] != <span class="hljs-literal">NULL</span>)<br>				&#123;<br>					<span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>-&gt;m_EmpArray[i];<br>				&#125;<br>			&#125;<br>			<span class="hljs-keyword">this</span>-&gt;m_EmpNum = <span class="hljs-number">0</span>;<br>			<span class="hljs-keyword">delete</span>[] <span class="hljs-keyword">this</span>-&gt;m_EmpArray;<br>			<span class="hljs-keyword">this</span>-&gt;m_EmpArray = <span class="hljs-literal">NULL</span>;<br>			<span class="hljs-keyword">this</span>-&gt;m_FileIsEmpty = <span class="hljs-literal">true</span>;<br>		&#125;<br>		cout &lt;&lt; <span class="hljs-string">&quot;清空成功！&quot;</span> &lt;&lt; endl;<br>	&#125;<br><br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;pause&quot;</span>);<br>	<span class="hljs-built_in">system</span>(<span class="hljs-string">&quot;cls&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>





<h4 id="15-3-测试清空文件"><a href="#15-3-测试清空文件" class="headerlink" title="15.3 测试清空文件"></a>15.3 测试清空文件</h4><p>在main函数分支 7  选项中，调用清空文件接口</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflqVP.png" srcset="/img/loading.gif" lazyload alt="yflqVP.png"></p>
<p>测试：确认清空文件</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflLUf.png" srcset="/img/loading.gif" lazyload alt="yflLUf.png"></p>
<p>再次查看文件中数据，记录已为空</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yflHbt.png" srcset="/img/loading.gif" lazyload alt="yflHbt.png"></p>
<p>打开文件，里面数据已确保清空，该功能需要慎用！</p>
<p><img src="https://s3.ax1x.com/2021/02/19/yfl7DI.png" srcset="/img/loading.gif" lazyload alt="yfl7DI.png"></p>
<p>随着清空文件功能实现，本案例制作完毕  ^ _ ^  </p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/" class="category-chain-item">编程学习</a>
  
  
    <span>></span>
    
  <a href="/categories/%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/C-%E9%BB%91%E9%A9%AC%E8%A7%86%E9%A2%91%E8%AE%B2%E4%B9%89/" class="category-chain-item">C++黑马视频讲义</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/C/">#C++</a>
      
    </div>
  
</div>


              


              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/f5d3d170.html" title="第5阶段-C++提高编程">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">第5阶段-C++提高编程</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/2aeb9fce.html" title="第3阶段-C++核心编程">
                        <span class="hidden-mobile">第3阶段-C++核心编程</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.4.16/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"aafuxXAEvmPa9M6u5J2bcS51-gzGzoHsz","appKey":"d6sAJLHqlK9SsXVkMJiMDJDU","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  








    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
